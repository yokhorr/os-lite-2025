Диспетчер. Вызов переходов: библиотеки, обработчики прерывания.

У каждого вычислительного узла -- своя ОС.
Писать универсальное ПО -- невозможно.
Ну либо писать на низкоуровневых языках (без абстракций) -- но невозожно переносить и трудно рефакторить.
Появляются языка высокого уровня: компилируемые и интерпретируемые.
Если компилятор, то нужен для каждой ОС.
Это останаваливало развитие языков высокого уровня.

Хочется создать ОС, которая сама написана на языке высокого уровня.
Под неё тогда можно сделать универсальный компилятор.
Но как написать ОС, когда для неё нужна своя ОС?

Bell laboratories проводят исследования и получают 8 нобелевских лауреатов.
Там изобрели полевой транзистор. Создали технологию выращивания на кристалле. Придумали ПЗС матрицу для цифровых камер.
Занимались также радиоастрономией.
Там работал Шеннон.
Томсон, Керниган и Ричи.

**MULTICS** (multiplexed computer service) -> **Unics** (uniplexed computer service)
Собрать все наработки в одну ОС. Появляется кафедра ОС в MIT.
Думали о плотной интеграции с железом.
А Томсон предложил наоборот.

Сначала написали версию на ассемблере для какого-то компа.
Была просто ещё одна ОС. 1 января 1970 года. edition 1.

Начинают разрабатывать язык B. Это интерпретируемый язык. 1972 -- edition 2.
Создают очень медленную ОС, написанную на высокоуровневом языке, привязанную к интерпретатору.
Керниган параллельно создаёт компилируемый язык С.

1973 -- edition 3. Написана на B, но содержит компилятор языка C, но компилятор тоже интерпретируемый.

Начинают интерпретируемые компоненты заменять на компилируемые, да и сам компилятор делают компилируемым.

1975: edition 5.
Появляется концепция *модулей ядра* -- драйвера.
Обеспечивают взаимодействие с конкретным железом.

Последняя, 7-я редакция вышла в 1978 г. И вот появился sh, из которого потом выродился bash.

И теперь начинают продавать ОС в отрыве от железа. Ужас!
Но тут их продажу останавливает антимонопольная служба США.

Университет Беркли получает кодовую базу Юникса.
Berkeley Software Distribution.

Unics -> BSD -> ... -> FreeBSD, OpenBDS, NetBSD
Unics -> Unix. Правовые вопросы решены, надо сменить имя, потому что код уже передали Беркли.
Unix -> System V -> ... -> HPUX, AIX, IRIX. 

Кроме MIT и Berkeley появляется третий университет: Стэндфорд.
Стэндфорд и Беркли находятся в постоянной вражде :D
Между ними развивается научная дискуссия.
Стэндфорд: TCP/IP, Беркли -- IPX/SPX. Разные протоклолы.
Стэндфорд забирает некоторую версию BSD и начинают развивать её самостоятельно у себя.
BSD -> SUN (Standford University Networks) -> SUN OS -> (Sun) Solatis -> ... -> OpenSolaris.

___

Начинает патентоваться ПО. Но тогда невозможно её разивитие, ни научное, ни прикладное.
Алгоритм LZW -- самый оптимальный алгоритм сжатия. Предложили запатентовать. Исключительную лицензию получили.
Ну и далее пытались создать Open Source алгоритм, сравнимый с LZW -- Deflate.

И вот появляется движение, Ричард Столлман. Создаётся манифест, 4 свободы ПО (берёт идеологию Рузвельта),
нумерует их с нуля:
0. Использовать ПО
1. Копировать
2. Разбираться в том, как работает, адаптировать под себя
3. Свобода создавать новые произведения, на основе существующего

Ну тогда очевидно нужна свободна ОС, потому что без библиотек ОС ничего не напишешь.
GNU -- Gnu is Not Unix.

Переписывают компилятор С и создают свободную версию, которая нигде не пересеклась по коду с предыдущим,
вот появляется GNU C Compiler -- GCC.

GPL -- Gnu Public License.
Copyleft. Всё под этой же лицензией.

Тяжело без денег писать ОС.

В конце 80-х годов в Хельсинском университете (ноунейм) молодой аспирант (Линус Торвальдс) увлекается ОС.
Покупает книжку Танненбаума из MIT, с которой в комплекте идёт ОС Minix.
Это не промышленная ОС, но учебная.
Начинает копаться в этой ОС. И начинает его переписывать, потому что ему не нравится.
И быстро завоёвывает популярность, и докатывается до Танненбаума. Очень злится.
"Linux устарел" -- с самого начала Торвальдс делает тупиковую ветвь.
Танненбаум ошибся.
Торвальдс вступает в полемику. Получается реклама Линукса неплохая.

Столлман связывается с Торвальдсом и предлагает связаться с GNU, но вместе с названием.
GNU/Linux.
Торвальдс соглашается запатентовать под GPL это ядро. Патент нужен, потому что можно всё потерять.

___

1989 год.
NeXT создают свою Unics-подобную ОС: BSD -> NeXTSTEP. Средненькие.
*Apple* покупает NeXTSTEP -> Darwin -> MacOS.
И они концентрируются на клиентах, клиентская ОС.
Apple сказал: у нас не будет дешёвых продуктов.
У них были графические интерфейсы, оконные.

___

MSDOS. *Microsoft* Disk Operation System.
И вот они считают, что появятся ПК.
И делают простые, доступные вещи для обычных людей.

Минимум настроек. Два файла. Желательно чтобы нельзя было сломать.
Была только командная строка.

Microsoft решает сделать программную оболочку. К DOS добавить программу, которая запускается сама.
И дальше в оконном интерфейсе будет вся работа.
Вот появляется Windows.
В винде 2 даже окна не могли пересекаться.
В винде 3 уже можно, но стал слишком тяжёлым.
Далее 3.1, 3.11 добавляется управление сетевой инфраструкторой. Появляется IE. TCP/IP.
То есть можно из графического интерфейса, без DOS настраивать всё.

Принимают тяжёлое решение, трижды отклонялось: отказаться от DOS + Windows в пользу ОС, где будет нативный графический
интерфейс. Винда с этого момента не может существовать без графического интерфейса.

Выходит Windows 95.
Затем Windows 98.
{DOS, 95} -> Windows NT (network).
NT -> {server, workstation}. Это комплекс.
NT -> 2000
XP.
Vista (оч неудачно, эксперименты).
Windows 7, 8, 10, 11.

___

Оконный интерфейс и мышку придумали в Ксерокс Парк.

